function animateFrom(e,t){gsap.registerPlugin(ScrollTrigger);var a=0,t=100*(t=t||1);e.classList.contains("gs_reveal_fromLeft")?(a=-200,t=0):e.classList.contains("gs_reveal_fromRight")&&(a=200,t=0),e.style.transform="translate("+a+"px, "+t+"px)",e.style.opacity="0",gsap.fromTo(e,{x:a,y:t,autoAlpha:0},{duration:2.25,x:0,y:0,autoAlpha:1,overwrite:"auto",ease:"power2",stagger:.3})}function hide(e){gsap.set(e,{autoAlpha:0})}if($(function(){775<$(window).width()&&$("ul.sub-menu li").each(function(){var e=$(this).parents().eq(1).width();$(this).css({width:e+"px"})}),$("#menu-wrapper").click(function(){$("#menu-header-menu").toggleClass("activeMenu",1e3,"easeOutSine"),$("body").toggleClass("hidden"),$(".languageChoiceEach").toggleClass("fontColour")}),$.fn.readMore=function(e){var p,f,m,y,_;"destroy"===e?$(this).each(function(e,t){$($(t).data().controller).off("click"),$(t).html($(t).children().last().html())}):(p=parseInt(e.lines),f=e.readMoreLabel||"+ Read more",m=e.readLessLabel||"- Less",y=e.ellipsis||"",_=e.splitOn||" ",!p||isNaN(p)?console.error("lines must be an integer"):$(this).each(function(e,t){var a,n,o=$(t).html(),s=o.split(_),i=$("<div/>"),r=$("<div/>"),l=$($(t).data().controller),c=0,g=0,u=!1,d=s.length;for(r.html(o),$(t).html(i).append(r),a=0;a<d;a++){i.append(s[a]+" ");var h=i.height();if(c<h&&(c=h,p<++g)){u=!0,i.html(s.slice(0,a).join(" "));break}}u?(l.text(f).css("display","block"),i.append(y),i.height(),r.height(),n=i.css("display"),l.on("click",function(){$(t).data().expanded?(r.animate(6e3,function(){i.css("display",n),r.css("display","none")}),l.animate({opacity:0},500,function(){l.text(f)}).animate({opacity:1},500),$(t).data("expanded",!1)):(i.css("display","none"),r.css("display",n),l.animate({opacity:0},500,function(){l.text(m)}).animate({opacity:1},500),$(t).data("expanded",!0))})):l.css("display","none"),r.css("display","none")}))},$(".text-area").readMore({lines:6}),$(".blob").click(function(){$(".navLink").toggleClass("visible")}),$(".navLink").click(function(){$(".navLink").toggleClass("visible")}),$(".languageChoiceContent:nth-child(3)").addClass("visible"),$(".languageChoiceEach").click(function(){$(".languageChoiceContent").hasClass("visible")&&$(".languageChoiceContent").removeClass("visible"),$(this).next(".languageChoiceContent").addClass("visible")}),$(window).scroll(function(){var e=$(document).height()-$(window).height()-$(window).scrollTop(),t=$(window).width();350<e&&700<t?($(".languageChoiceEach").fadeIn(100),$(".pageTitlePage h1").css("position","fixed")):e<350&&700<t&&($(".languageChoiceEach").fadeOut(100),$(".pageTitlePage h1").css("position","relative"))}),$("a").on("click",function(e){var t;""!==this.hash&&(e.preventDefault(),t=this.hash,$("html, body").animate({scrollTop:$(t).offset().top},800,function(){window.location.hash=t}))})}),!function(r){function e(e){var t,a=e.find(".marker"),n={zoom:e.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(e[0],n);return i.markers=[],a.each(function(){var e,t=r(this),a=i,n=t.data("lat"),o=t.data("lng"),n={lat:parseFloat(n),lng:parseFloat(o)},s=new google.maps.Marker({position:n,map:a});a.markers.push(s),t.html()&&(e=new google.maps.InfoWindow({content:t.html()}),google.maps.event.addListener(s,"click",function(){e.open(a,s)}))}),e=i,t=new google.maps.LatLngBounds,e.markers.forEach(function(e){t.extend({lat:e.position.lat(),lng:e.position.lng()})}),1==e.markers.length?e.setCenter(t.getCenter()):e.fitBounds(t),i}r(document).ready(function(){r(".acf-map").each(function(){e(r(this))})})}(jQuery),document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".gs_reveal").forEach(function(e){hide(e),ScrollTrigger.create({trigger:e,onEnter:function(){animateFrom(e)},onEnterBack:function(){animateFrom(e,-1)},onLeave:function(){hide(e)}})})}),775<$(window).width()){const ca=gsap.utils.toArray(".scene"),da=200*(ca.length-1)+"%",ea=gsap.timeline({scrollTrigger:{trigger:".scenes__items",pin:".scenes",start:"center center",end:"+="+da,scrub:!0}});function startVideo(e,t){const a=e.querySelector("video");console.log("start",t),a&&a.play()}function stopVideo(e,t){const a=e.querySelector("video");console.log("stop",t),a&&a.pause()}gsap.set(ca,{position:"absolute",top:"20vh"}),ca.forEach(function(e,t){0!=t&&(ea.from(e.querySelector(".scene__figure"),{autoAlpha:0},t),ea.from(e.querySelector(".scene__header"),{autoAlpha:0,translateY:100},t),ea.from(e.querySelector(".scene__figureCite"),{autoAlpha:0},t),ea.from(e.querySelector(".scene__headerCite"),{autoAlpha:0,translateY:100},t)),t<ca.length&&(ea.to(e.querySelector(".scene__header"),{className:"scene__header zIndex openingDesc"},t),ea.to(e.querySelector(".scene__figure"),{className:"scene__figure zIndex"},t),ea.to(e.querySelector(".scene__headerCite"),{className:"scene__headerCite zIndex postTitle"},t),ea.to(e.querySelector(".scene__figureCite"),{className:"scene__figureCite zIndex"},t)),t!=ca.length-1&&(ea.to(e.querySelector(".scene__header"),{autoAlpha:0,translateY:-100},t+.75),ea.to(e.querySelector(".scene__figure"),{autoAlpha:0},t+.75),ea.to(e.querySelector(".scene__headerCite"),{autoAlpha:0,translateY:-100},t+.75),ea.to(e.querySelector(".scene__figureCite"),{autoAlpha:1},t+.75)),ea.add(()=>(0<ea.scrollTrigger.direction?stopVideo:startVideo)(e,t),t+1.25)}),ea.to({},{duration:.001})}gsap.to(".svg1",{yPercent:50,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),gsap.to(".svg2",{yPercent:20,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),gsap.to(".svg4",{yPercent:60,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),gsap.to(".svg3",{yPercent:60,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}});