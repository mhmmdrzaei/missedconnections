function animateFrom(e,t){gsap.registerPlugin(ScrollTrigger);var n=0,t=100*(t=t||1);e.classList.contains("gs_reveal_fromLeft")?(n=-200,t=0):e.classList.contains("gs_reveal_fromRight")&&(n=200,t=0),e.style.transform="translate("+n+"px, "+t+"px)",e.style.opacity="0",gsap.fromTo(e,{x:n,y:t,autoAlpha:0},{duration:2.25,x:10,y:10,autoAlpha:1,overwrite:"auto",ease:"power2",stagger:.3})}function hide(e){gsap.set(e,{autoAlpha:0})}$(function(){775<$(window).width()&&$("ul.sub-menu li").each(function(){var e=$(this).parents().eq(1).width();$(this).css({width:e+"px"})}),$.fn.readMore=function(e){var h,f,m,y,v;"destroy"===e?$(this).each(function(e,t){$($(t).data().controller).off("click"),$(t).html($(t).children().last().html())}):(h=parseInt(e.lines),f=e.readMoreLabel||"+ Read more",m=e.readLessLabel||"- Less",y=e.ellipsis||"",v=e.splitOn||" ",!h||isNaN(h)?console.error("lines must be an integer"):$(this).each(function(e,t){var n,a,o=$(t).html(),i=o.split(v),s=$("<div/>"),r=$("<div/>"),l=$($(t).data().controller),c=0,g=0,d=!1,p=i.length;for(r.html(o),$(t).html(s).append(r),n=0;n<p;n++){s.append(i[n]+" ");var u=s.height();if(c<u&&(c=u,h<++g)){d=!0,s.html(i.slice(0,n).join(" "));break}}d?(l.text(f).css("display","block"),s.append(y),s.height(),r.height(),a=s.css("display"),l.on("click",function(){$(t).data().expanded?(r.animate(6e3,function(){s.css("display",a),r.css("display","none")}),l.animate({opacity:0},500,function(){l.text(f)}).animate({opacity:1},500),$(t).data("expanded",!1)):(s.css("display","none"),r.css("display",a),l.animate({opacity:0},500,function(){l.text(m)}).animate({opacity:1},500),$(t).data("expanded",!0))})):l.css("display","none"),r.css("display","none")}))},$(".text-area").readMore({lines:6}),$(".blob").click(function(){$(".navLink").toggleClass("visible")}),$(".navLink").click(function(){$(".navLink").toggleClass("visible")}),$(".languageChoiceContent:nth-child(3)").addClass("visible"),$(".languageChoiceEach").click(function(){$(".languageChoiceContent").hasClass("visible")&&$(".languageChoiceContent").removeClass("visible"),$(this).next(".languageChoiceContent").addClass("visible")}),$(window).scroll(function(){var e=$(document).height()-$(window).height()-$(window).scrollTop(),t=$(window).width();350<e&&700<t?($(".languageChoiceEach").fadeIn(100),$(".pageTitlePage h1").css("position","fixed")):e<350&&700<t&&($(".languageChoiceEach").fadeOut(100),$(".pageTitlePage h1").css("position","relative"))}),$("a").on("click",function(e){var t;""!==this.hash&&(e.preventDefault(),t=this.hash,$("html, body").animate({scrollTop:$(t).offset().top},800,function(){window.location.hash=t}))})}),function(r){function e(e){var t,n=e.find(".marker"),a={zoom:e.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},s=new google.maps.Map(e[0],a);return s.markers=[],n.each(function(){var e,t=r(this),n=s,a=t.data("lat"),o=t.data("lng"),a={lat:parseFloat(a),lng:parseFloat(o)},i=new google.maps.Marker({position:a,map:n});n.markers.push(i),t.html()&&(e=new google.maps.InfoWindow({content:t.html()}),google.maps.event.addListener(i,"click",function(){e.open(n,i)}))}),e=s,t=new google.maps.LatLngBounds,e.markers.forEach(function(e){t.extend({lat:e.position.lat(),lng:e.position.lng()})}),1==e.markers.length?e.setCenter(t.getCenter()):e.fitBounds(t),s}r(document).ready(function(){r(".acf-map").each(function(){e(r(this))})})}(jQuery),document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".gs_reveal").forEach(function(e){hide(e),ScrollTrigger.create({trigger:e,onEnter:function(){animateFrom(e)},onEnterBack:function(){animateFrom(e,-1)},onLeave:function(){hide(e)}})})});const scenes=gsap.utils.toArray(".scene"),height=200*(scenes.length-1)+"%",pinTl=gsap.timeline({scrollTrigger:{trigger:".scenes__items",pin:".scenes",start:"center center",end:"+="+height,scrub:!0}});function startVideo(e,t){const n=e.querySelector("video");console.log("start",t),n&&n.play()}function stopVideo(e,t){const n=e.querySelector("video");console.log("stop",t),n&&n.pause()}gsap.set(scenes,{position:"absolute",top:"20vh"}),scenes.forEach(function(e,t){0!=t&&(pinTl.from(e.querySelector(".scene__figure"),{autoAlpha:0},t),pinTl.from(e.querySelector(".scene__header"),{autoAlpha:0,translateY:100},t),pinTl.from(e.querySelector(".scene__figureCite"),{autoAlpha:0},t),pinTl.from(e.querySelector(".scene__headerCite"),{autoAlpha:0,translateY:100},t)),t<scenes.length&&(pinTl.to(e.querySelector(".scene__header"),{className:"scene__header zIndex openingDesc"},t),pinTl.to(e.querySelector(".scene__figure"),{className:"scene__figure zIndex"},t),pinTl.to(e.querySelector(".scene__headerCite"),{className:"scene__headerCite zIndex postTitle"},t),pinTl.to(e.querySelector(".scene__figureCite"),{className:"scene__figureCite zIndex"},t)),t!=scenes.length-1&&(pinTl.to(e.querySelector(".scene__header"),{autoAlpha:0,translateY:-100},t+.75),pinTl.to(e.querySelector(".scene__figure"),{autoAlpha:0},t+.75),pinTl.to(e.querySelector(".scene__headerCite"),{autoAlpha:0,translateY:-100},t+.75),pinTl.to(e.querySelector(".scene__figureCite"),{autoAlpha:1},t+.75)),pinTl.add(()=>(0<pinTl.scrollTrigger.direction?stopVideo:startVideo)(e,t),t+1.25)}),pinTl.to({},{duration:.001}),gsap.to(".svg1",{yPercent:50,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),gsap.to(".svg2",{yPercent:20,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),gsap.to(".svg4",{yPercent:60,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),gsap.to(".svg3",{yPercent:60,ease:"none",scrollTrigger:{trigger:"body",scrub:!0}}),document.addEventListener("DOMContentLoaded",function(){var n,e=[].slice.call(document.querySelectorAll("video.lazy"));"IntersectionObserver"in window&&(n=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){for(var t in e.target.children){t=e.target.children[t];"string"==typeof t.tagName&&"SOURCE"===t.tagName&&(t.src=t.dataset.src)}e.target.load(),e.target.classList.remove("lazy"),n.unobserve(e.target)}})}),e.forEach(function(e){n.observe(e)}))});