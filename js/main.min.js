$(function(){775<$(window).width()&&$("ul.sub-menu li").each(function(){var e=$(this).parents().eq(1).width();$(this).css({width:e+"px"})}),$.fn.readMore=function(e){var u,f,m,w,v;"destroy"!==e?(u=parseInt(e.lines),f=e.readMoreLabel||"+ Read more",m=e.readLessLabel||"- Less",w=e.ellipsis||"",v=e.splitOn||" ",u&&!isNaN(u)?$(this).each(function(e,a){var t,n,i=$(a).html(),o=i.split(v),s=$("<div/>"),l=$("<div/>"),c=$($(a).data().controller),r=0,h=0,d=!1,p=o.length;for(l.html(i),$(a).html(s).append(l),t=0;t<p;t++){s.append(o[t]+" ");var g=s.height();if(r<g&&(r=g,u<++h)){d=!0,s.html(o.slice(0,t).join(" "));break}}d?(c.text(f).css("display","block"),s.append(w),s.height(),l.height(),n=s.css("display"),c.on("click",function(){$(a).data().expanded?(l.animate(6e3,function(){s.css("display",n),l.css("display","none")}),c.animate({opacity:0},500,function(){c.text(f)}).animate({opacity:1},500),$(a).data("expanded",!1)):(s.css("display","none"),l.css("display",n),c.animate({opacity:0},500,function(){c.text(m)}).animate({opacity:1},500),$(a).data("expanded",!0))})):c.css("display","none"),l.css("display","none")}):console.error("lines must be an integer")):$(this).each(function(e,a){$($(a).data().controller).off("click"),$(a).html($(a).children().last().html())})},$(".text-area").readMore({lines:6});let e=gsap.utils.toArray(".citationsPost"),t=e[0];gsap.defaults({overwrite:"auto",duration:.3}),gsap.set("#pageCitations",{height:80*e.length+"%"}),e.forEach((a,e)=>{ScrollTrigger.create({start:()=>(e-.5)*innerHeight,end:()=>(e+.5)*innerHeight,onToggle:e=>e.isActive&&function(e){e!==t&&(gsap.to(t,{scale:1,autoAlpha:0}),gsap.to(e,{scale:1,autoAlpha:1}),t=e)}(a)})}),$(".languageChoiceContent:nth-child(2)").addClass("visible"),$(".languageChoiceEach").click(function(){$(".languageChoiceContent").hasClass("visible")&&$(".languageChoiceContent").removeClass("visible"),$(this).next(".languageChoiceContent").addClass("visible")}),$(window).scroll(function(){var e=$(document).height()-$(window).height()-$(window).scrollTop(),a=$(window).width();350<e&&700<a?($(".languageChoiceEach").fadeIn(100),$(".pageTitlePage h1").css("position","fixed")):e<350&&700<a&&($(".languageChoiceEach").fadeOut(100),$(".pageTitlePage h1").css("position","relative"))}),$("a").on("click",function(e){var a;""!==this.hash&&(e.preventDefault(),a=this.hash,$("html, body").animate({scrollTop:$(a).offset().top},800,function(){window.location.hash=a}))})}),function(l){function e(e){var a,t=e.find(".marker"),n={zoom:e.data("zoom")||16,mapTypeId:google.maps.MapTypeId.ROADMAP},s=new google.maps.Map(e[0],n);return s.markers=[],t.each(function(){var e,a,t,n,i,o;e=l(this),a=s,n=e.data("lat"),i=e.data("lng"),i={lat:parseFloat(n),lng:parseFloat(i)},o=new google.maps.Marker({position:i,map:a}),a.markers.push(o),e.html()&&(t=new google.maps.InfoWindow({content:e.html()}),google.maps.event.addListener(o,"click",function(){t.open(a,o)}))}),t=s,a=new google.maps.LatLngBounds,t.markers.forEach(function(e){a.extend({lat:e.position.lat(),lng:e.position.lng()})}),1==t.markers.length?t.setCenter(a.getCenter()):t.fitBounds(a),s}l(document).ready(function(){l(".acf-map").each(function(){e(l(this))})})}(jQuery);